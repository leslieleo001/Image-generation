# Silicon Flow

AI图片生成工具，支持单图生成和批量生成，提供直观的用户界面和强大的功能。

## 功能特性

### 单图生成 (100%)
- 支持多种模型选择：
  * stabilityai/stable-diffusion-3-5-large
  * stabilityai/stable-diffusion-3-medium
  * stabilityai/stable-diffusion-3-5-large-turbo
- 丰富的参数配置：
  * 提示词和负面提示词（多行输入）
  * 生成步数 (1-50)
  * 引导系数 (0.1-20.0)
  * 提示增强开关
  * 随机种子控制
  * 生成数量控制 (1-4)
- 增强的图片预览：
  * 支持多图片生成和预览
  * 缩略图列表显示
  * 支持右键菜单单独保存
  * 支持鼠标滚轮缩放 (0.1-5.0倍)
  * 支持鼠标拖动查看
  * 支持适应窗口和重置视图
- 完整的历史记录管理：
  * 独立的历史记录窗口
  * 支持预览和加载历史记录
  * 支持Excel格式导出（含图片预览）
  * 支持打开历史图片
  * 支持多图片记录
- 强大的预设管理功能

### 批量生成 (95%)
- Excel导入导出功能
- 任务队列管理
- 实时进度显示
- 智能错误处理
- 任务排序和编辑
- 高级功能（开发中）

### 设置功能 (100%)
- API密钥配置
- 主题切换
- 路径配置
- 参数默认值设置

## 技术栈
- Python 3.13+
- PyQt6 6.6.0+
- 依赖库：
  * requests
  * pandas
  * pillow
  * pytest

## 项目结构
```
project/
├── src/
│   ├── ui/              # 界面相关代码
│   │   ├── single_gen.py    # 单图生成
│   │   ├── batch_gen.py     # 批量生成
│   │   ├── settings.py      # 设置界面
│   │   └── image_preview.py # 图片预览
│   ├── utils/           # 工具类
│   │   ├── api_client.py    # API客户端
│   │   ├── config_manager.py# 配置管理
│   │   └── preset_manager.py# 预设管理
│   └── main/           # 主程序
├── tests/              # 测试代码
│   ├── unit/          # 单元测试
│   └── integration/   # 集成测试
└── docs/              # 文档
```

## 开发状态
- 单图生成功能：已完成 (100%)
  * 25个测试用例全部通过
  * 所有已知问题已修复
  * 文档已更新
- 图片预览功能：已完成 (100%)
  * 8个测试用例全部通过
  * 性能优化完成
  * 多图片预览支持
- 批量生成功能：进行中 (95%)
  * 24个测试用例全部通过
  * 高级功能开发中
  * 性能优化进行中
- 其他功能：已完成 (100%)
  * 配置管理
  * API客户端
  * 预设管理
  * 历史记录管理

## 版本信息
- 当前版本：v1.2.2
- 计划发布：2024年1月15日
- 开源协议：MIT 

## 最新更新

### 版本 1.2.2 (2024-01-15)
- 修复了历史记录管理的批量删除功能
- 优化了历史记录窗口的布局和操作
- 调整了生成数量范围为1-4
- 改进了默认参数的加载机制
- 修复了随机种子设置的问题

## 功能状态

### 已完成功能
- [x] 单图生成
  - [x] 基本参数设置
  - [x] 高级参数配置
  - [x] 种子值管理（可选）
  - [x] 历史记录
  - [x] 预览功能
- [x] 批量生成
  - [x] 任务队列
  - [x] 进度显示
  - [x] 错误处理
- [x] 设置管理
  - [x] API配置
  - [x] 默认参数
  - [x] 输出路径
  - [x] 命名规则

### 开发中功能
- [ ] 高级预设管理
- [ ] 批处理优化
- [ ] 性能优化 